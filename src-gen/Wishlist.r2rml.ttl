PREFIX rr: <http://www.w3.org/ns/r2rml#>
PREFIX wbo: <https://wikibus.org/ontology#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

<#Wishlist>
	rr:logicalTable [ rr:sqlQuery """select Id, rtrim([User]) as [User], SourceId, Done from Sources.Wishlist""" ];
	
	rr:subjectMap [
		rr:template "wishlist/{User}/{SourceId}" ;
		rr:graphMap [ rr:template "wishlist/{User}/{SourceId}" ] ;
		rr:class wbo:WishlistItem ;
	];
	
	rr:predicateObjectMap [
		rr:predicate wbo:source ;
		rr:objectMap [
			rr:template "brochure/{SourceId}" ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate wbo:done ;
		rr:objectMap [
			rr:column "Done" ;
			rr:datatype xsd:boolean ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate wbo:user ;
		rr:objectMap [
			rr:template "https://users.wikibus.org/user/{User}" ;
		];
	]
.