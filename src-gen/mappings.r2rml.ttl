PREFIX rr: <http://www.w3.org/ns/r2rml#>
PREFIX bibo: <http://purl.org/ontology/bibo/>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX dtype: <http://www.linkedmodel.org/schema/dtype#>
PREFIX opus: <http://lsdis.cs.uga.edu/projects/semdis/opus#>
PREFIX schema: <http://schema.org/>
PREFIX wba: <https://wikibus.org/api#>
PREFIX wbo: <https://wikibus.org/ontology#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

<#Brochure>
	rr:logicalTable [ rr:sqlQuery """select
	       Id,
	       Pages,
	       Year,
	       Month,
	       Day,
	       IIF(rtrim(Notes) = '', NULL, Notes) as Notes,
	       FileCabinet,
	       FileOffset,
	       FolderCode,
	       FolderName,
	       [User],
	       cast(Updated as BIGINT) as Version,
	       ContentSize,
	       ContentUrl,
	       IIF(rtrim(value) = '', NULL, value) as Language,
		   IIF(Image is NULL, NULL, Id) as LegacyImage
	from Sources.Source
	CROSS APPLY STRING_SPLIT(Languages, ';')
	where SourceType = 'folder'""" ];
	
	rr:subjectMap [
		rr:template "https://sources.wikibus.org/brochure/{Id}" ;
		rr:class wbo:Source ;
		rr:class wbo:Brochure ;
	];
	
	rr:predicateObjectMap [
		rr:predicate bibo:pages ;
		rr:objectMap [
			rr:column "Pages" ;
			rr:datatype xsd:int ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate opus:year ;
		rr:objectMap [
			rr:column "Year" ;
			rr:datatype xsd:gYear ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate opus:month ;
		rr:objectMap [
			rr:column "Month" ;
			rr:datatype xsd:gMonth ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate dcterms:date ;
		rr:objectMap [
			rr:template "{Year}-{Month}-{Day}" ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate wba:storageLocation ;
		rr:objectMap [
			rr:template "https://sources.wikibus.org/storage-location/{Id}" ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate dcterms:language ;
		rr:objectMap [
			rr:template "http://lexvo.org/id/iso639-1/{Language}" ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate dcterms:title ;
		rr:objectMap [
			rr:column "FolderName" ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate dcterms:description ;
		rr:objectMap [
			rr:column "Notes" ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate dcterms:identifier ;
		rr:objectMap [
			rr:column "FolderCode" ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate schema:contributor ;
		rr:objectMap [
			rr:template "https://users.wikibus.org/user/{User}" ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate schema:associatedMedia ;
		rr:objectMap [
			rr:template "https://sources.wikibus.org/brochure/{Id}/file" ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate schema:image ;
		rr:objectMap [
			rr:template "legacy-image-{LegacyImage}" ;
			rr:termType rr:BlankNode ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate schema:primaryImageOfPage ;
		rr:objectMap [
			rr:template "legacy-image-{LegacyImage}" ;
			rr:termType rr:BlankNode ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate dtype:orderIndex ;
		rr:objectMap [
			rr:column "Version" ;
		];
	]
.
<#Book>
	rr:logicalTable [ rr:sqlQuery """select
	    Id,
	    Pages,
	    Year,
	    IIF(rtrim(Notes) = '', NULL, Notes) as Notes,
	    BookTitle,
	    BookISBN,
	    BookAuthor,
	    [User],
		cast(Updated as BIGINT) as Version,
	    IIF(rtrim(value) = '', NULL, value) as Language,
	    IIF(Image is NULL, NULL, Id) as LegacyImage
	from Sources.Source
	         CROSS APPLY STRING_SPLIT(Languages, ';')
	where SourceType = 'book'""" ];
	
	rr:subjectMap [
		rr:template "https://sources.wikibus.org/book/{Id}" ;
		rr:class wbo:Source ;
		rr:class wbo:Book ;
		rr:class schema:Book ;
		rr:class bibo:Book ;
	];
	
	rr:predicateObjectMap [
		rr:predicate bibo:pages ;
		rr:objectMap [
			rr:column "Pages" ;
			rr:datatype xsd:int ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate opus:year ;
		rr:objectMap [
			rr:column "Year" ;
			rr:datatype xsd:gYear ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate dcterms:description ;
		rr:objectMap [
			rr:column "Notes" ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate dcterms:title ;
		rr:objectMap [
			rr:column "BookTitle" ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate schema:isbn ;
		rr:objectMap [
			rr:column "BookISBN" ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate dcterms:language ;
		rr:objectMap [
			rr:template "http://lexvo.org/id/iso639-1/{Language}" ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate schema:image ;
		rr:objectMap [
			rr:template "legacy-image-{LegacyImage}" ;
			rr:termType rr:BlankNode ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate schema:primaryImageOfPage ;
		rr:objectMap [
			rr:template "legacy-image-{LegacyImage}" ;
			rr:termType rr:BlankNode ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate schema:author ;
		rr:objectMap [
			rr:template "book-{Id}-author" ;
			rr:termType rr:BlankNode ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate dtype:orderIndex ;
		rr:objectMap [
			rr:column "Version" ;
		];
	]
.
<#MagazineIssue>
	rr:logicalTable [ rr:sqlQuery """select
	    s.Id,
	    s.Pages,
	    s.Year,
	    s.Month,
	    s.Day,
	    IIF(rtrim(Notes) = '', NULL, s.Notes) as Notes,
	    s.FileCabinet,
	    s.FileOffset,
	    s.MagIssueNumber,
	    s.[User],
	    cast(s.Updated as BIGINT) as Version,
	    IIF(rtrim(value) = '', NULL, value) as Language,
	    IIF(s.Image is NULL, NULL, s.Id) as LegacyImage,
	    lower(replace(
	            replace(
	                    cast(m.Name as varchar(max)) collate SQL_Latin1_General_Cp1251_CS_AS,
	                    ' ', '-'),
	            '&', '-')) as MagazineSlug
	from Sources.Source s
	         join Sources.Magazine m on m.Id = s.MagIssueMagazine
	         CROSS APPLY STRING_SPLIT(s.Languages, ';')
	where s.SourceType = 'magissue'""" ];
	
	rr:subjectMap [
		rr:template "https://sources.wikibus.org/magazine/{MagazineSlug}/issue/{Id}" ;
		rr:class wbo:Source ;
	];
	
	rr:predicateObjectMap [
		rr:predicate bibo:pages ;
		rr:objectMap [
			rr:column "Pages" ;
			rr:datatype xsd:int ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate opus:year ;
		rr:objectMap [
			rr:column "Year" ;
			rr:datatype xsd:gYear ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate opus:month ;
		rr:objectMap [
			rr:column "Month" ;
			rr:datatype xsd:gMonth ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate dcterms:date ;
		rr:objectMap [
			rr:template "{Year}-{Month}-{Day}" ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate wba:storageLocation ;
		rr:objectMap [
			rr:template "https://sources.wikibus.org/storage-location/{Id}" ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate schema:isPartOf ;
		rr:objectMap [
			rr:template "https://sources.wikibus.org/magazine/{MagazineSlug}" ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate schema:contributor ;
		rr:objectMap [
			rr:template "https://users.wikibus.org/user/{User}" ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate schema:issueNumber ;
		rr:objectMap [
			rr:column "MagIssueNumber" ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate dtype:orderIndex ;
		rr:objectMap [
			rr:column "Version" ;
		];
	]
.
<#BookOwners>
	rr:logicalTable [ rr:sqlQuery """select
	    Id,
	    Pages,
	    Year,
	    IIF(rtrim(Notes) = '', NULL, Notes) as Notes,
	    BookTitle,
	    BookISBN,
	    BookAuthor,
	    [User],
		cast(Updated as BIGINT) as Version,
	    IIF(rtrim(value) = '', NULL, value) as Language,
	    IIF(Image is NULL, NULL, Id) as LegacyImage
	from Sources.Source
	         CROSS APPLY STRING_SPLIT(Languages, ';')
	where SourceType = 'book'""" ];
	
	rr:subjectMap [
		rr:template "https://users.wikibus.org/user/{User}" ;
	];
	
	rr:predicateObjectMap [
		rr:predicate schema:owns ;
		rr:objectMap [
			rr:template "https://sources.wikibus.org/book/{Id}" ;
		];
	]
.
<#BookAuthors>
	rr:logicalTable [ rr:sqlQuery """select
	    Id,
	    Pages,
	    Year,
	    IIF(rtrim(Notes) = '', NULL, Notes) as Notes,
	    BookTitle,
	    BookISBN,
	    BookAuthor,
	    [User],
		cast(Updated as BIGINT) as Version,
	    IIF(rtrim(value) = '', NULL, value) as Language,
	    IIF(Image is NULL, NULL, Id) as LegacyImage
	from Sources.Source
	         CROSS APPLY STRING_SPLIT(Languages, ';')
	where SourceType = 'book'""" ];
	
	rr:subjectMap [
		rr:template "book-{Id}-author" ;
		rr:termType rr:BlankNode ;
	];
	
	rr:predicateObjectMap [
		rr:predicate schema:name ;
		rr:objectMap [
			rr:column "BookAuthor" ;
		];
	]
.
<#StorageLocation>
	rr:logicalTable [ rr:tableName "Sources.Source" ];
	
	rr:subjectMap [
		rr:template "https://sources.wikibus.org/storage-location/{Id}" ;
	];
	
	rr:predicateObjectMap [
		rr:predicate dcterms:identifier ;
		rr:objectMap [
			rr:column "FileCabinet" ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate dtype:position ;
		rr:objectMap [
			rr:column "FileOffset" ;
			rr:datatype xsd:int ;
		];
	]
.
<#BrochureFile>
	rr:logicalTable [ rr:sqlQuery """select
	       Id,
	       Pages,
	       Year,
	       Month,
	       Day,
	       IIF(rtrim(Notes) = '', NULL, Notes) as Notes,
	       FileCabinet,
	       FileOffset,
	       FolderCode,
	       FolderName,
	       [User],
	       cast(Updated as BIGINT) as Version,
	       ContentSize,
	       ContentUrl,
	       IIF(rtrim(value) = '', NULL, value) as Language,
		   IIF(Image is NULL, NULL, Id) as LegacyImage
	from Sources.Source
	CROSS APPLY STRING_SPLIT(Languages, ';')
	where SourceType = 'folder'""" ];
	
	rr:subjectMap [
		rr:template "https://sources.wikibus.org/brochure/{Id}/file" ;
		rr:class schema:MediaObject ;
	];
	
	rr:predicateObjectMap [
		rr:predicate schema:contentSize ;
		rr:objectMap [
			rr:column "ContentSize" ;
			rr:datatype xsd:long ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate schema:encodingFormat ;
		rr:objectMap [
			rr:constant "application/pdf" ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate schema:contentUrl ;
		rr:objectMap [
			rr:column "ContentUrl" ;
			rr:datatype schema:URL ;
		];
	]
.
<#BrochureLegacyImage>
	rr:logicalTable [ rr:sqlQuery """select
	       Id,
	       Pages,
	       Year,
	       Month,
	       Day,
	       IIF(rtrim(Notes) = '', NULL, Notes) as Notes,
	       FileCabinet,
	       FileOffset,
	       FolderCode,
	       FolderName,
	       [User],
	       cast(Updated as BIGINT) as Version,
	       ContentSize,
	       ContentUrl,
	       IIF(rtrim(value) = '', NULL, value) as Language,
		   IIF(Image is NULL, NULL, Id) as LegacyImage
	from Sources.Source
	CROSS APPLY STRING_SPLIT(Languages, ';')
	where SourceType = 'folder'""" ];
	
	rr:subjectMap [
		rr:template "legacy-image-{LegacyImage}" ;
		rr:class schema:ImageObject ;
		rr:termType rr:BlankNode ;
	];
	
	rr:predicateObjectMap [
		rr:predicate schema:contentUrl ;
		rr:objectMap [
			rr:template "https://wikibus-sources.herokuapp.com/brochure/{Id}/image" ;
			rr:termType rr:Literal ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate schema:thumbnail ;
		rr:objectMap [
			rr:template "brochure-image-thumb-{Id}" ;
			rr:termType rr:BlankNode ;
		];
	]
.
<#BrochureImageThumbnail>
	rr:logicalTable [ rr:sqlQuery """select
	       Id,
	       Pages,
	       Year,
	       Month,
	       Day,
	       IIF(rtrim(Notes) = '', NULL, Notes) as Notes,
	       FileCabinet,
	       FileOffset,
	       FolderCode,
	       FolderName,
	       [User],
	       cast(Updated as BIGINT) as Version,
	       ContentSize,
	       ContentUrl,
	       IIF(rtrim(value) = '', NULL, value) as Language,
		   IIF(Image is NULL, NULL, Id) as LegacyImage
	from Sources.Source
	CROSS APPLY STRING_SPLIT(Languages, ';')
	where SourceType = 'folder'""" ];
	
	rr:subjectMap [
		rr:template "brochure-image-thumb-{Id}" ;
		rr:class schema:ImageObject ;
		rr:termType rr:BlankNode ;
	];
	
	rr:predicateObjectMap [
		rr:predicate schema:contentUrl ;
		rr:objectMap [
			rr:template "https://wikibus-sources.herokuapp.com/brochure/{Id}/image/small" ;
			rr:termType rr:Literal ;
		];
	]
.
<#MagazineIssueLegacyImage>
	rr:logicalTable [ rr:sqlQuery """select
	    s.Id,
	    s.Pages,
	    s.Year,
	    s.Month,
	    s.Day,
	    IIF(rtrim(Notes) = '', NULL, s.Notes) as Notes,
	    s.FileCabinet,
	    s.FileOffset,
	    s.MagIssueNumber,
	    s.[User],
	    cast(s.Updated as BIGINT) as Version,
	    IIF(rtrim(value) = '', NULL, value) as Language,
	    IIF(s.Image is NULL, NULL, s.Id) as LegacyImage,
	    lower(replace(
	            replace(
	                    cast(m.Name as varchar(max)) collate SQL_Latin1_General_Cp1251_CS_AS,
	                    ' ', '-'),
	            '&', '-')) as MagazineSlug
	from Sources.Source s
	         join Sources.Magazine m on m.Id = s.MagIssueMagazine
	         CROSS APPLY STRING_SPLIT(s.Languages, ';')
	where s.SourceType = 'magissue'""" ];
	
	rr:subjectMap [
		rr:template "legacy-image-{LegacyImage}" ;
		rr:class schema:ImageObject ;
		rr:termType rr:BlankNode ;
	];
	
	rr:predicateObjectMap [
		rr:predicate schema:contentUrl ;
		rr:objectMap [
			rr:template "https://wikibus-sources.herokuapp.com/magazine/{MagazineSlug}/issue/{Id}/image" ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate schema:thumbnail ;
		rr:objectMap [
			rr:template "image-thumb-{Id}" ;
			rr:termType rr:BlankNode ;
		];
	]
.
<#MagazineIssueImageThumbnail>
	rr:logicalTable [ rr:sqlQuery """select
	    s.Id,
	    s.Pages,
	    s.Year,
	    s.Month,
	    s.Day,
	    IIF(rtrim(Notes) = '', NULL, s.Notes) as Notes,
	    s.FileCabinet,
	    s.FileOffset,
	    s.MagIssueNumber,
	    s.[User],
	    cast(s.Updated as BIGINT) as Version,
	    IIF(rtrim(value) = '', NULL, value) as Language,
	    IIF(s.Image is NULL, NULL, s.Id) as LegacyImage,
	    lower(replace(
	            replace(
	                    cast(m.Name as varchar(max)) collate SQL_Latin1_General_Cp1251_CS_AS,
	                    ' ', '-'),
	            '&', '-')) as MagazineSlug
	from Sources.Source s
	         join Sources.Magazine m on m.Id = s.MagIssueMagazine
	         CROSS APPLY STRING_SPLIT(s.Languages, ';')
	where s.SourceType = 'magissue'""" ];
	
	rr:subjectMap [
		rr:template "issue-image-thumb-{Id}" ;
		rr:class schema:ImageObject ;
		rr:termType rr:BlankNode ;
	];
	
	rr:predicateObjectMap [
		rr:predicate schema:contentUrl ;
		rr:objectMap [
			rr:template "https://wikibus-sources.herokuapp.com/magazine/{MagazineSlug}/issue/{Id}/image/small" ;
		];
	]
.
<#BookLegacyImage>
	rr:logicalTable [ rr:sqlQuery """select
	    Id,
	    Pages,
	    Year,
	    IIF(rtrim(Notes) = '', NULL, Notes) as Notes,
	    BookTitle,
	    BookISBN,
	    BookAuthor,
	    [User],
		cast(Updated as BIGINT) as Version,
	    IIF(rtrim(value) = '', NULL, value) as Language,
	    IIF(Image is NULL, NULL, Id) as LegacyImage
	from Sources.Source
	         CROSS APPLY STRING_SPLIT(Languages, ';')
	where SourceType = 'book'""" ];
	
	rr:subjectMap [
		rr:template "legacy-image-{LegacyImage}" ;
		rr:class schema:ImageObject ;
		rr:termType rr:BlankNode ;
	];
	
	rr:predicateObjectMap [
		rr:predicate schema:contentUrl ;
		rr:objectMap [
			rr:template "https://wikibus-sources.herokuapp.com/book/{Id}/image" ;
			rr:termType rr:Literal ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate schema:thumbnail ;
		rr:objectMap [
			rr:template "book-image-thumb-{Id}" ;
			rr:termType rr:BlankNode ;
		];
	]
.
<#BookImageThumbnail>
	rr:logicalTable [ rr:sqlQuery """select
	    Id,
	    Pages,
	    Year,
	    IIF(rtrim(Notes) = '', NULL, Notes) as Notes,
	    BookTitle,
	    BookISBN,
	    BookAuthor,
	    [User],
		cast(Updated as BIGINT) as Version,
	    IIF(rtrim(value) = '', NULL, value) as Language,
	    IIF(Image is NULL, NULL, Id) as LegacyImage
	from Sources.Source
	         CROSS APPLY STRING_SPLIT(Languages, ';')
	where SourceType = 'book'""" ];
	
	rr:subjectMap [
		rr:template "book-image-thumb-{Id}" ;
		rr:class schema:ImageObject ;
		rr:termType rr:BlankNode ;
	];
	
	rr:predicateObjectMap [
		rr:predicate schema:contentUrl ;
		rr:objectMap [
			rr:template "https://wikibus-sources.herokuapp.com/book/{Id}/image/small" ;
			rr:termType rr:Literal ;
		];
	]
.
<#BrochureImage>
	rr:logicalTable [ rr:tableName "Sources.Images" ];
	
	rr:subjectMap [
		rr:template "https://sources.wikibus.org/brochure/{SourceId}" ;
	];
	
	rr:predicateObjectMap [
		rr:predicate schema:image ;
		rr:objectMap [
			rr:template "https://sources.wikibus.org/image/{ExternalId}" ;
		];
	]
.
<#BrochurePrimaryImage>
	rr:logicalTable [ rr:sqlQuery """
	    SELECT i.SourceId,
	           i.ExternalId
	    FROM Sources.Images i
		join Sources.Source b on i.SourceId = b.Id
		WHERE i.OrderIndex = 1 and b.SourceType = 'folder'""" ];
	
	rr:subjectMap [
		rr:template "https://sources.wikibus.org/brochure/{SourceId}" ;
	];
	
	rr:predicateObjectMap [
		rr:predicate schema:primaryImageOfPage ;
		rr:objectMap [
			rr:template "https://sources.wikibus.org/image/{ExternalId}" ;
		];
	]
.
<#Image>
	rr:logicalTable [ rr:tableName "Sources.Images" ];
	
	rr:subjectMap [
		rr:template "https://sources.wikibus.org/image/{ExternalId}" ;
		rr:class schema:ImageObject ;
	];
	
	rr:predicateObjectMap [
		rr:predicate schema:contentUrl ;
		rr:objectMap [
			rr:column "OriginalUrl" ;
			rr:datatype schema:URL ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate schema:thumbnail ;
		rr:objectMap [
			rr:template "cloudinary-image-{Id}" ;
			rr:termType rr:BlankNode ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate dtype:orderIndex ;
		rr:objectMap [
			rr:column "OrderIndex" ;
			rr:datatype xsd:int ;
		];
	]
.
<#ImageThumbnail>
	rr:logicalTable [ rr:tableName "Sources.Images" ];
	
	rr:subjectMap [
		rr:template "cloudinary-image-{Id}" ;
		rr:class schema:ImageObject ;
		rr:termType rr:BlankNode ;
	];
	
	rr:predicateObjectMap [
		rr:predicate schema:contentUrl ;
		rr:objectMap [
			rr:column "ThumbnailUrl" ;
			rr:datatype schema:URL ;
		];
	]
.
<#User>
	rr:logicalTable [ rr:tableName "Sources.Users" ];
	
	rr:subjectMap [
		rr:template "https://users.wikibus.org/user/{UserId}" ;
	];
	
	rr:predicateObjectMap [
		rr:predicate wba:driveImportFolder ;
		rr:objectMap [
			rr:column "DriveImportFolder" ;
		];
	]
.
<#Magazine>
	rr:logicalTable [ rr:sqlQuery """select *,
	    lower(replace(
	        replace(
	            cast(Name as varchar(max)) collate SQL_Latin1_General_Cp1251_CS_AS,
	        ' ', '-'),
	    '&', '-')) as Slug
	from Sources.Magazine""" ];
	
	rr:subjectMap [
		rr:template "https://sources.wikibus.org/magazine/{Slug}" ;
		rr:class wbo:Source ;
		rr:class schema:Periodical ;
	];
	
	rr:predicateObjectMap [
		rr:predicate dcterms:title ;
		rr:objectMap [
			rr:column "Name" ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate dcterms:description ;
		rr:objectMap [
			rr:column "SubName" ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate wba:issues ;
		rr:objectMap [
			rr:template "https://sources.wikibus.org/magazine/{Slug}/issues" ;
		];
	]
.
<#Wishlist>
	rr:logicalTable [ rr:tableName "Sources.Wishlist" ];
	
	rr:subjectMap [
		rr:template "https://sources.wikibus.org/wishlist/{User}/{SourceId}" ;
		rr:class wbo:WishlistItem ;
	];
	
	rr:predicateObjectMap [
		rr:predicate wbo:source ;
		rr:objectMap [
			rr:template "https://sources.wikibus.org/brochure/{SourceId}" ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate wbo:done ;
		rr:objectMap [
			rr:column "Done" ;
			rr:datatype xsd:boolean ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate wbo:user ;
		rr:objectMap [
			rr:template "https://users.wikibus.org/user/{User}" ;
		];
	]
.